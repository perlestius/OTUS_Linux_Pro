добавить в провижн клиентов:
In the file /etc/ssh/sshd_config, find the PasswordAuthentication line and make sure it ends with yes.
Find the ChallengeResponseAuthentication option and disable it by adding no.
sudo systemctl restart sshd

LDAP

Установить FreeIPA;
Написать Ansible playbook для конфигурации клиента;
Настроить аутентификацию по SSH-ключам*
Firewall должен быть включен на сервере и на клиенте*

Статус "Принято" ставится при выполнении основных требований.
Задания со звездочками выполняются по желанию (в этом решении НЕ реализовано).


Для запуска стенда потребуется 6 гБ свободной RAM (по 2ГБ на каждую ВМ)
Переходим в каталог с загруженными файлами и запускаем скрипт развертывания стенда:
bash run.sh
В течение примерно 15 мин должны развернуться 3 ВМ: IPA-сервер и два его клиента.
IP-адрес сервера: 192.168.57.10, IP-адреса клиентов: 192.168.57.11, 192.168.57.12
Пароль администратора для IPA-сервера будет 12345678. В каталоге сервера будет создан пользователь ipauser@OTUS.LAN с паролем 123.
После развертывания будет предложено залогиниться под пользователем ipauser@OTUS.LAN сначала на первый клиент, потом на второй.
В случае возникновения ошибки "REMOTE HOST IDENTIFICATION HAS CHANGED!" надо удалить файл ~/.ssh/known_hosts на той машине, с которой выполняется подключение, и повторить попытку

Для доступа к веб-интерфейсу сервера надо на машине, с которой будем к нему обращаться, добавить запись в файл /etc/hosts:
192.168.57.10	ipa.otus.lan

